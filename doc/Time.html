<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=UTF-8" />
<title>Class: Time</title>
<link rel="stylesheet" href="css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index (T)</a> &raquo; 
    
    
    <span class="title">Time</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: Time 
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><a href="Object.html" title="Object (class)">Object</a></span>
      
        <ul class="fullTree">
          <li><a href="Object.html" title="Object (class)">Object</a></li>
          
            <li class="next">Time</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/ruby_units/time.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>Time math is handled slightly differently.  The difference is considered to be an exact duration if
the subtracted value is in hours, minutes, or seconds.  It is rounded to the nearest day if the offset
is in years, decades, or centuries.  This leads to less precise values, but ones that match the
calendar better.</p>

  </div>
</div>
<div class="tags">
  
</div>


  <h2>Class Method Summary</h2>

  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#at-class_method" title="at (class method)">+ (Object) <strong>at</strong>(*args) </a>
    

    
      (also: unit_time_at)
    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#in-class_method" title="in (class method)">+ (Object) <strong>in</strong>(duration) </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc">usage: Time.in '5 min'.</span>
  
</li>

    
  </ul>

  <h2>Instance Method Summary</h2>

  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#%2B-instance_method" title="#+ (instance method)">- (Object) <strong>+</strong>(other) </a>
    

    
      (also: #unit_add)
    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_unit-instance_method" title="#to_unit (instance method)">- (Object) <strong>to_unit</strong>(other = nil) </a>
    

    
      (also: #u, #unit)
    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"></span>
  
</li>

    
  </ul>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="at-class_method">
  
    + (<tt><a href="Object.html" title="Object (class)">Object</a></tt>) <strong>at</strong>(*args) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='unit_time_at-class_method'>unit_time_at</span></span>
    </span>
  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


12
13
14
15
16
17
18</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruby_units/time.rb', line 12</span>

<span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='at identifier id'>at</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='Unit constant id'>Unit</span> <span class='eqq op'>===</span> <span class='args identifier id'>args</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
    <span class='unit_time_at identifier id'>unit_time_at</span><span class='lparen token'>(</span><span class='args identifier id'>args</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='to identifier id'>to</span><span class='lparen token'>(</span><span class='string val'>&quot;s&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='scalar identifier id'>scalar</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='unit_time_at identifier id'>unit_time_at</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="in-class_method">
  
    + (<tt><a href="Object.html" title="Object (class)">Object</a></tt>) <strong>in</strong>(duration) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>usage: Time.in '5 min'</p>

  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


55
56
57</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruby_units/time.rb', line 55</span>

<span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='in identifier id'>in</span><span class='lparen token'>(</span><span class='duration identifier id'>duration</span><span class='rparen token'>)</span>
  <span class='Time constant id'>Time</span><span class='dot token'>.</span><span class='now identifier id'>now</span> <span class='plus op'>+</span> <span class='duration identifier id'>duration</span><span class='dot token'>.</span><span class='to_unit identifier id'>to_unit</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="+-instance_method">
  
    - (<tt><a href="Object.html" title="Object (class)">Object</a></tt>) <strong>+</strong>(other) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='unit_add-instance_method'>unit_add</span></span>
    </span>
  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


39
40
41
42
43
44
45
46
47
48
49
50
51
52</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruby_units/time.rb', line 39</span>

<span class='def def kw'>def</span> <span class='plus op'>+</span><span class='lparen token'>(</span><span class='other identifier id'>other</span><span class='rparen token'>)</span>
  <span class='case case kw'>case</span> <span class='other identifier id'>other</span>
  <span class='when when kw'>when</span> <span class='Unit constant id'>Unit</span><span class='colon op'>:</span>
    <span class='other identifier id'>other</span> <span class='assign token'>=</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='to identifier id'>to</span><span class='lparen token'>(</span><span class='string val'>'d'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='round identifier id'>round</span><span class='dot token'>.</span><span class='to identifier id'>to</span><span class='lparen token'>(</span><span class='string val'>'s'</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='lbrack token'>[</span><span class='string val'>'y'</span><span class='comma token'>,</span> <span class='string val'>'decade'</span><span class='comma token'>,</span> <span class='string val'>'century'</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='include? fid id'>include?</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='units identifier id'>units</span>  
    <span class='begin begin kw'>begin</span>
      <span class='unit_add identifier id'>unit_add</span><span class='lparen token'>(</span><span class='other identifier id'>other</span><span class='dot token'>.</span><span class='to identifier id'>to</span><span class='lparen token'>(</span><span class='string val'>'s'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='scalar identifier id'>scalar</span><span class='rparen token'>)</span>
    <span class='rescue rescue kw'>rescue</span> <span class='RangeError constant id'>RangeError</span>
      <span class='self self kw'>self</span><span class='dot token'>.</span><span class='to_datetime identifier id'>to_datetime</span> <span class='plus op'>+</span> <span class='other identifier id'>other</span>
    <span class='end end kw'>end</span>
  <span class='when when kw'>when</span> <span class='DateTime constant id'>DateTime</span><span class='colon op'>:</span> <span class='unit_add identifier id'>unit_add</span><span class='lparen token'>(</span><span class='other identifier id'>other</span><span class='dot token'>.</span><span class='to_time identifier id'>to_time</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='unit_add identifier id'>unit_add</span><span class='lparen token'>(</span><span class='other identifier id'>other</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="to_unit-instance_method">
  
    - (<tt><a href="Object.html" title="Object (class)">Object</a></tt>) <strong>to_unit</strong>(other = nil) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='u-instance_method'>u</span>, <span id='unit-instance_method'>unit</span></span>
    </span>
  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


20
21
22</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruby_units/time.rb', line 20</span>

<span class='def def kw'>def</span> <span class='to_unit identifier id'>to_unit</span><span class='lparen token'>(</span><span class='other identifier id'>other</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='other identifier id'>other</span> <span class='integer val'>? </span><span class='Unit constant id'>Unit</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to identifier id'>to</span><span class='lparen token'>(</span><span class='other identifier id'>other</span><span class='rparen token'>)</span> <span class='colon op'>:</span> <span class='Unit constant id'>Unit</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Wed Mar 17 02:01:09 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool">yard</a>
  0.5.3 (ruby-1.8.7).
</div>

  </body>
</html>